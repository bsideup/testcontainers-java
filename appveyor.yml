os: Windows Server 2012 R2

environment:
  JAVA_HOME: C:\Program Files\Java\jdk1.8.0
install:
  - cinst jdk8 docker
  - cmd: refreshenv
  - cmd: java -version
  - AppVeyor DownloadFile http://download.virtualbox.org/virtualbox/5.0.14/VirtualBox-5.0.14-105127-Win.exe
  - .\VirtualBox-5.0.14-105127-Win.exe -s -l -msiparams ADDLOCAL=VBoxApplication,VBoxUSB,VBoxNetworkAdp REBOOT=ReallySuppress
  - AppVeyor DownloadFile https://github.com/docker/machine/releases/download/v0.10.0/docker-machine-Windows-i386.exe
  - copy docker-machine-Windows-i386.exe docker-machine.exe
  - cmd: refreshenv
  - - .\docker-machine.exe -D create -d virtualbox --virtualbox-no-vtx-check --virtualbox-nictype "Am79C973" --virtualbox-hostonly-nictype "Am79C973" --virtualbox-boot2docker-url https://github.com/StefanScherer/boot2docker/releases/download/v1.10.1-386/boot2docker.iso dev
  - cmd: docker version

build_script:
  - ./mvnw.bat clean package -B -Dmaven.test.skip=true -Dmaven.javadoc.skip=true

test_script:
  - ./mvnw.bat clean install --batch-mode

cache:
  - C:\Users\appveyor\.m2

deploy: off
